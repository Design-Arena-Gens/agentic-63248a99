import { NextRequest, NextResponse } from 'next/server';

const OBJEXIS_SYSTEM_PROMPT = `You are the AI Design Agent for Objexis Toy Inc., a future-focused toy vehicle design studio specializing in original, luxury-inspired, and futuristic miniature automobiles crafted exclusively for 3D printing.

Company Identity:
- We create never-before-seen toy car concepts that exist beyond real-world brands or models
- Every vehicle is original intellectual property with unique silhouettes, bold proportions, and refined surface language
- We merge automotive artistry, industrial design precision, and imaginative storytelling

Design Philosophy:
- Balance visual sophistication with toy-friendly durability
- Ensure structural integrity, smooth printability, and engaging play value
- Integrate creative lighting elements, expressive wheel designs, futuristic interiors, and architectural body forms
- Create vehicles that feel at home in a fictional or future automotive universe
- Maintain a cohesive and recognizable design language across the collection

Your Capabilities:
1. Conceptualize new vehicle designs with detailed descriptions of form, proportion, and aesthetic
2. Suggest technical considerations for 3D printing (wall thickness, support structures, printability)
3. Create vehicle backstories, naming conventions, and specification sheets
4. Discuss design elements: lighting integration, wheel designs, interior concepts, surface language
5. Provide feedback on design concepts and suggest refinements
6. Explain design philosophy and how it relates to specific vehicle features

Communication Style:
- Professional yet creative and inspiring
- Use automotive design terminology mixed with futuristic concepts
- Be specific about design details (proportions, materials, features)
- Reference design principles but keep explanations accessible
- Show enthusiasm for innovation and original concepts

When helping users:
- Ask clarifying questions about their vision
- Suggest creative directions while respecting their ideas
- Consider both aesthetic appeal and practical 3D printing constraints
- Emphasize originality and uniqueness in every concept
- Think about how each design fits into the broader Objexis collection

Remember: Every response should reflect Objexis's mission to redefine toy cars through innovation, originality, and craftsmanship.`;

export async function POST(req: NextRequest) {
  try {
    const { messages } = await req.json();

    // Simulate AI response with context-aware replies
    const lastUserMessage = messages[messages.length - 1]?.content.toLowerCase() || '';

    let response = '';

    // Context-aware responses
    if (lastUserMessage.includes('design') && (lastUserMessage.includes('sport') || lastUserMessage.includes('race'))) {
      response = `Excellent! Let's create a high-performance sports concept for Objexis.\n\n**Concept: "Apex Phantom"**\n\n**Design Language:**\nâ€¢ Ultra-low profile with aggressive 25-degree windshield rake\nâ€¢ Sculptural side air channels that flow into rear diffuser\nâ€¢ Split-level rear wing with integrated LED light strips\nâ€¢ Pronounced wheel arches housing 6-spoke turbine-style wheels\n\n**Signature Elements:**\nâ€¢ Holographic headlight arrays with cyan accent rings\nâ€¢ Carbon-fiber-inspired hexagonal texture on side panels\nâ€¢ Floating rear section with negative space design\nâ€¢ Ground effects lighting in purple/cyan gradient\n\n**3D Printing Notes:**\nâ€¢ Body split along centerline for easier printing\nâ€¢ 2.5mm wall thickness for strength\nâ€¢ Integrated snap-fit points for wing assembly\nâ€¢ Separate wheel prints with 3mm axle holes\n\n**Vehicle Story:**\nThe Apex Phantom represents the pinnacle of Objexis racing engineeringâ€”a track-focused machine born from digital wind tunnels and computational design. Its form follows function, with every surface optimized for downforce and visual drama.\n\nWould you like me to refine any specific aspect or explore different design directions?`;
    } else if (lastUserMessage.includes('luxury') || lastUserMessage.includes('suv') || lastUserMessage.includes('sedan')) {
      response = `Perfect! Let's develop a luxury vehicle that embodies Objexis sophistication.\n\n**Concept: "Elysium Cruiser"**\n\n**Design Philosophy:**\nâ€¢ Elegant proportions with elongated hood and swept-back cabin\nâ€¢ Vertical LED signature lighting that flows into chrome accent lines\nâ€¢ Panoramic glass canopy with subtle frame details\nâ€¢ 20-inch multi-spoke wheels with floating center caps\n\n**Premium Features:**\nâ€¢ Coach doors (rear-hinged) with intricate hinge detail\nâ€¢ Illuminated Objexis badge on grille\nâ€¢ Sculpted lower body with chrome trim accents\nâ€¢ Integrated roof rails with aerodynamic profiling\n\n**Material Inspiration:**\nâ€¢ Brushed aluminum finish on trim pieces\nâ€¢ Piano black accents on pillars\nâ€¢ Crystal-clear windows with subtle gradient tinting\n\n**Technical Specs:**\nâ€¢ Overall length: 180mm (1:24 scale aesthetic)\nâ€¢ Ground clearance: 8mm for stability\nâ€¢ Door mechanisms: friction-fit or small magnet integration\nâ€¢ Modular interior tray (printable separately)\n\n**Brand Positioning:**\nThe Elysium Cruiser brings executive presence to the Objexis lineupâ€”a statement of refined taste and futuristic elegance. It's designed for collectors who appreciate subtlety combined with unmistakable presence.\n\nShould we explore interior details, color schemes, or alternative body styles?`;
    } else if (lastUserMessage.includes('light') || lastUserMessage.includes('led')) {
      response = `Lighting is a signature element of Objexis design! Let me share our approach:\n\n**Objexis Lighting Design System:**\n\n**Headlight Concepts:**\n1. **Matrix Arrays** - Geometric patterns of small circular or hexagonal lights\n2. **Light Blades** - Thin horizontal LED strips with vertical accent bars\n3. **Holographic Chambers** - Recessed housings with multi-layered depth\n4. **Scanning Effect** - Sequential lighting patterns molded into design\n\n**Signature Lighting Zones:**\nâ€¢ **Front Identity**: Distinctive DRL (daytime running light) pattern unique to each model\nâ€¢ **Side Drama**: Ground effects channels, door sill illumination, wheel well accents\nâ€¢ **Rear Theater**: 3D taillights with floating elements, light-bar integration\nâ€¢ **Cabin Glow**: Interior ambient lighting visible through windows\n\n**3D Printing Techniques:**\nâ€¢ Use translucent filament (clear/frosted) for light elements\nâ€¢ Print light housings separately and insert into body\nâ€¢ Model light "bulbs" as small spheres (3-4mm diameter)\nâ€¢ Create light channels with 1.5mm thickness for glow effect\nâ€¢ Design bezels/surrounds in contrasting color\n\n**Design Integration:**\n- Lights should follow body surface language and character lines\n- Create visual flow from front to rear through lighting placement\n- Use color temperature: Cyan/white for modern, Amber for retro-future\n- Scale appropriately: Lights should be visible but not oversized\n\n**Pro Tip**: Post-process light elements with gloss varnish to enhance transparency and add realistic depth!\n\nWould you like me to design lighting for a specific vehicle concept?`;
    } else if (lastUserMessage.includes('print') || lastUserMessage.includes('3d')) {
      response = `Excellent question! 3D printability is core to every Objexis design. Here's our technical framework:\n\n**Objexis 3D Printing Standards:**\n\n**Structural Integrity:**\nâ€¢ Minimum wall thickness: 2.0mm (2.5mm for large panels)\nâ€¢ Maximum unsupported span: 40mm\nâ€¢ Overhang limit: 45Â° without supports (60Â° with careful design)\nâ€¢ Bridge distance: 30mm maximum for FDM printing\n\n**Assembly Design:**\nâ€¢ **Snap-fit tolerances**: 0.2-0.3mm clearance for tight fits\nâ€¢ **Axle holes**: 3mm diameter with 0.1mm tolerance\nâ€¢ **Alignment pins**: 1.5mm diameter, 3mm depth\nâ€¢ **Magnetic spots**: 5mm recessed pockets for 5x2mm disc magnets\n\n**Part Breakdown Strategy:**\n1. **Main body** - Split along centerline or A-pillar vertical\n2. **Chassis/base** - Separate print with wheel wells and mounting points\n3. **Windows** - Individual clear filament prints or single canopy\n4. **Wheels** - Four identical prints with integrated or separate tires\n5. **Details** - Spoilers, mirrors, grilles, badges as separate components\n\n**Material Recommendations:**\nâ€¢ Body: PLA or PETG (strength + detail)\nâ€¢ Windows: Transparent PETG or resin\nâ€¢ Wheels: TPU tires on rigid hubs, or all-PLA\nâ€¢ Details: Standard PLA for best surface finish\n\n**Print Settings (FDM):**\nâ€¢ Layer height: 0.12-0.16mm for smooth surfaces\nâ€¢ Infill: 20% gyroid or grid\nâ€¢ Walls: 3-4 perimeters for strength\nâ€¢ Top/bottom: 5 layers minimum\n\n**Design Features for Better Prints:**\nâ€¢ Fillet all internal corners (1mm radius)\nâ€¢ Add chamfers to sharp edges (0.3mm)\nâ€¢ Create registration marks for alignment\nâ€¢ Design support-friendly orientations\nâ€¢ Include version numbers on underside\n\n**Post-Processing:**\n- Sand with 220â†’400â†’800 grit\n- Prime with filler primer\n- Paint with automotive-style finishes\n- Clear coat for protection\n\nWhich aspect would you like to explore deeperâ€”assembly, materials, or print optimization?`;
    } else if (lastUserMessage.includes('wheel') || lastUserMessage.includes('rim')) {
      response = `Wheels are crucial character-defining elements in Objexis designs! Let's explore our wheel design language:\n\n**Objexis Wheel Design Philosophy:**\n\n**Style Categories:**\n\n1. **Turbine Series** (Sport/Racing)\n   â€¢ 6-8 thin aerodynamic spokes\n   â€¢ Directional flow pattern\n   â€¢ Deep dish profile\n   â€¢ Central locking hub detail\n\n2. **Lattice Collection** (Luxury)\n   â€¢ Multi-spoke patterns (10-15 spokes)\n   â€¢ Intricate mesh/web designs\n   â€¢ Chrome or brushed finish aesthetic\n   â€¢ Pronounced lip with step details\n\n3. **Blade Array** (Future/Concept)\n   â€¢ 4-5 thick sculptural spokes\n   â€¢ Negative space design\n   â€¢ Floating spoke appearance\n   â€¢ Integrated brake caliper visibility\n\n4. **Orbital Set** (Sci-Fi/Experimental)\n   â€¢ Enclosed disc with vent patterns\n   â€¢ Holographic center sections\n   â€¢ LED integration possibilities\n   â€¢ Hexagonal or geometric cutouts\n\n**Technical Specifications:**\nâ€¢ Standard diameter: 20-25mm (1:18 to 1:24 scale)\nâ€¢ Tire width: 8-12mm depending on vehicle type\nâ€¢ Spoke thickness: 1.2mm minimum for strength\nâ€¢ Center bore: 3mm for axle (with 0.1mm tolerance)\nâ€¢ Lip depth: 1-2mm for visual depth\n\n**3D Printing Approach:**\n**Method 1: Integrated Wheel**\n- Print wheel + tire as one piece\n- Use multi-material for contrast (if capable)\n- Add tire tread pattern in model\n\n**Method 2: Separate Components**\n- Rigid hub/spoke structure in PLA\n- TPU tire printed separately and fitted\n- Allows realistic tire flex\n\n**Design Details:**\nâ€¢ **Center cap**: Objexis logo or vehicle-specific badge\nâ€¢ **Brake calipers**: Visible through spokes (4mm squares)\nâ€¢ **Brake rotors**: Cross-drilled patterns (0.8mm holes)\nâ€¢ **Lug nuts/bolts**: 0.5mm raised details (5-6 per wheel)\n\n**Visual Principles:**\n- Match wheel style to vehicle character\n- Wheels should be 25-30% of vehicle height\n- Sport cars: wider rear stance (10-15% wider)\n- Create visual rotation even when static\n- Consider stance: flush, tucked, or aggressive offset\n\n**Pro Styling Tip**: Add a 0.2mm chamfer on spoke edges to catch light and create visual interest!\n\nWant me to design wheels for a specific vehicle or explore tire tread patterns?`;
    } else if (lastUserMessage.includes('interior') || lastUserMessage.includes('cockpit')) {
      response = `Interior design is where Objexis vehicles truly come alive! Let's explore cockpit concepts:\n\n**Objexis Interior Design System:**\n\n**Cockpit Philosophy:**\nâ€¢ Futuristic minimalism with purposeful complexity\nâ€¢ Driver-focused ergonomics\nâ€¢ Holographic display integration\nâ€¢ Architectural precision in details\n\n**Key Elements:**\n\n**1. Dashboard Architecture**\nâ€¢ **Sport Vehicles**: Wraparound cockpit, fighter-jet inspired\nâ€¢ **Luxury Vehicles**: Horizontal layering, symmetrical design\nâ€¢ **Concept Vehicles**: Floating elements, negative space\n\n**2. Steering Configurations**\nâ€¢ **Yoke Design**: D-shaped or rectangular (futuristic)\nâ€¢ **Traditional Wheel**: Three-spoke sport or multi-function\nâ€¢ **Floating Ring**: Suspended within dash (sci-fi)\n\n**3. Display Screens**\nâ€¢ Central HUD projection area\nâ€¢ Curved instrument binnacle\nâ€¢ Passenger-side info screen\nâ€¢ Door panel displays\nâ€¢ Size: 3-5mm screen elements\n\n**4. Seating Design**\nâ€¢ Bucket seats with pronounced bolsters\nâ€¢ Integrated headrests\nâ€¢ Visible stitching patterns (modeled)\nâ€¢ 4-6 point harness detail\n\n**5. Center Console**\nâ€¢ Floating design (suspended above transmission tunnel)\nâ€¢ Selector knobs and buttons (0.5-1mm raised)\nâ€¢ Storage compartments\nâ€¢ Armrest integration\n\n**Technical Details for 3D Printing:**\nâ€¢ **Scale**: Interior details at 1-2mm for visibility\nâ€¢ **Seats**: 2mm wall thickness, can be hollow\nâ€¢ **Dashboard**: Single piece or multi-part assembly\nâ€¢ **Steering wheel**: 8-10mm diameter, 1mm thickness\nâ€¢ **Windows**: Allow interior visibility, design accordingly\n\n**Design Approach:**\n**Modular Interior Tray:**\n- Print separate from body\n- Snap-fit or glue installation\n- Allows experimentation with layouts\n- Can be swapped for different variants\n\n**Color & Material Blocking:**\nâ€¢ Primary: Black or dark gray base\nâ€¢ Accent 1: Objexis cyan on controls/screens\nâ€¢ Accent 2: Carbon fiber texture on dash\nâ€¢ Accent 3: Sport seats in contrasting color\n\n**Detailing Levels:**\n**Level 1 (Basic)**: Seat outlines, steering wheel, basic dash\n**Level 2 (Standard)**: Add screens, center console, door cards\n**Level 3 (Premium)**: Pedals, shift lever, individual buttons, floor mats\n\n**Lighting Integration:**\nâ€¢ Model ambient light strips (0.5mm channels)\nâ€¢ Screen glow (painted or LED if advanced)\nâ€¢ Instrument cluster illumination\nâ€¢ Door sill lights\n\n**Pro Tip**: Design interiors to be visible but not overwhelmingâ€”balance detail with printability and assembly complexity!\n\nShould we design an interior for a specific vehicle type or explore advanced detailing techniques?`;
    } else if (lastUserMessage.includes('philosophy') || lastUserMessage.includes('mission') || lastUserMessage.includes('approach')) {
      response = `Let me share the core principles that define every Objexis creation:\n\n**The Objexis Design Philosophy**\n\n**Pillar 1: Originality Above All**\nâ€¢ We never replicate existing vehiclesâ€”every design is born from imagination\nâ€¢ Each vehicle has a unique story, purpose, and character\nâ€¢ We create IP, not replicasâ€”building a proprietary automotive universe\nâ€¢ Our designs could exist in any future timeline or fictional setting\n\n**Pillar 2: Form Follows Future**\nâ€¢ We design for tomorrow's aesthetics, not today's trends\nâ€¢ Automotive architecture meets science fiction\nâ€¢ Bold proportions that challenge conventional design rules\nâ€¢ Surface language that flows organically but feels technological\n\n**Pillar 3: Printability = Possibility**\nâ€¢ Every design must be 3D printable with consumer technology\nâ€¢ We engineer for FDM and resin printing constraints\nâ€¢ Structural integrity is non-negotiableâ€”toys must be durable\nâ€¢ Assembly should be intuitive and satisfying\n\n**Pillar 4: Collectible Quality**\nâ€¢ These aren't just toysâ€”they're display pieces and conversation starters\nâ€¢ Attention to detail rivals production automotive design\nâ€¢ Each vehicle deserves a name, backstory, and specifications\nâ€¢ Limited edition mindset: quality over quantity\n\n**Pillar 5: Cohesive Universe**\nâ€¢ All vehicles share visual DNAâ€”the "Objexis Look"\nâ€¢ Consistent design cues: lighting signatures, proportions, surface treatments\nâ€¢ Builds a recognizable brand language\nâ€¢ Vehicles feel like they belong to the same world\n\n**Design Process:**\n1. **Conceptualization**: Define vehicle purpose and character\n2. **Proportion Study**: Establish stance, wheelbase, and silhouette\n3. **Surface Development**: Sculpt body forms, character lines, details\n4. **Technical Integration**: Lighting, wheels, interior, printability\n5. **Refinement**: Balance aesthetics with engineering reality\n6. **Documentation**: Name, story, specifications\n\n**What Makes a Design "Objexis":**\nâœ“ Immediately recognizable as futuristic/original\nâœ“ No real-world brand references\nâœ“ Sophisticated yet toy-friendly\nâœ“ Engineered for 3D printing success\nâœ“ Story-driven and purpose-built\nâœ“ Part of a larger collection/universe\n\n**Our Promise:**\nEvery Objexis vehicle redefines what a toy car can beâ€”bridging the gap between professional automotive design and accessible maker culture. We're building a brand for collectors, enthusiasts, and dreamers who want vehicles that don't exist anywhere else.\n\nWould you like to discuss how we apply these principles to a specific design challenge?`;
    } else if (lastUserMessage.includes('color') || lastUserMessage.includes('paint') || lastUserMessage.includes('finish')) {
      response = `Color and finish are essential to bringing Objexis vehicles to life! Here's our approach:\n\n**Objexis Color Philosophy**\n\n**Signature Color Palette:**\n\n**Primary Colors (Hero Finishes):**\nâ€¢ **Quantum Cyan**: Metallic cyan-blue (brand signature)\nâ€¢ **Void Black**: Deep gloss black with subtle metal flake\nâ€¢ **Plasma Purple**: Iridescent purple with blue shift\nâ€¢ **Photon White**: Pearl white with holographic undertones\nâ€¢ **Chrome Silver**: Mirror-finish metallic\n\n**Accent Colors:**\nâ€¢ **Neon Cyan**: Fluorescent highlights for details\nâ€¢ **Electric Orange**: Racing accents and brake calipers\nâ€¢ **Deep Red**: Tail lights and warning elements\nâ€¢ **Carbon Gray**: Matte technical surfaces\n\n**Finish Types:**\n\n**1. Gloss Metallics** (Luxury/Sport)\n- Base coat + metallic + clear coat\n- Light-catching surface movement\n- Premium feel\n- Best for: main body surfaces\n\n**2. Matte Technical** (Concept/Military)\n- Flat finish with soft texture\n- Modern, stealthy aesthetic\n- Best for: panels, trim, wheels\n\n**3. Chrome/Mirror** (Accent Elements)\n- Reflective finishes\n- Trim, badges, grilles\n- Small detail emphasis\n\n**4. Color Shift/Iridescent** (Hero Vehicles)\n- Changes color by viewing angle\n- Purpleâ†’blue, greenâ†’gold variants\n- Statement finishes for special editions\n\n**5. Translucent** (Lighting Elements)\n- Clear, frosted, or tinted\n- Windows, light housings, accents\n- Can be layered with backing colors\n\n**Color Blocking Strategy:**\n\n**Two-Tone Designs:**\nâ€¢ Upper body: Primary color\nâ€¢ Lower body/rockers: Black or carbon gray\nâ€¢ Split line at character line or beltline\n\n**Tri-Tone Accents:**\nâ€¢ Base: Main body color\nâ€¢ Secondary: Roof, mirrors, spoiler\nâ€¢ Accent: Trim, badges, brake calipers\n\n**Racing Liveries:**\nâ€¢ Base color + stripes/graphics\nâ€¢ Number plates and sponsor-style details\nâ€¢ Accent color for competition identity\n\n**Painting for 3D Prints:**\n\n**Preparation:**\n1. Sand: 220â†’400â†’800 grit progression\n2. Prime: 2-3 coats automotive filler primer\n3. Wet sand: 800â†’1000 grit on primer\n4. Clean: Isopropyl alcohol wipe\n\n**Paint Application:**\nâ€¢ **Airbrush**: Best control for gradients and details\nâ€¢ **Spray Can**: Good for base coats (Tamiya, Rust-Oleum)\nâ€¢ **Hand Brush**: Fine details and touch-ups only\n\n**Technique:**\n1. Base coat: 2-3 light coats\n2. Metallic/color: 3-4 medium coats\n3. Decals/masks: If applicable\n4. Clear coat: 3-5 coats gloss or matte\n5. Wet sand + polish: For show-quality finish\n\n**Special Effects:**\nâ€¢ **Weathering**: Dry brushing, washes for realism\nâ€¢ **Panel lines**: Black wash in seams and gaps\nâ€¢ **Lighting glow**: Fluorescent paint behind translucent parts\nâ€¢ **Heat shielding**: Gold/titanium on exhausts\n\n**Color Psychology by Vehicle Type:**\nâ€¢ **Sport/Race**: Bright primaries, high contrast\nâ€¢ **Luxury**: Deep metallics, sophisticated hues\nâ€¢ **Concept**: Unusual/experimental, color shifts\nâ€¢ **Utility**: Muted tones, functional aesthetics\n\n**Pro Tips:**\n- Always test colors on scrap prints first\n- Objexis signature: Cyan accent somewhere on every vehicle\n- Gloss + matte contrast creates visual interest\n- Less is more: avoid over-complicating color schemes\n\nWant help choosing a color scheme for a specific vehicle concept?`;
    } else if (lastUserMessage.includes('hello') || lastUserMessage.includes('hi ') || lastUserMessage.includes('hey')) {
      response = `Hello! Welcome to Objexis Toy Inc.â€”where future automotive dreams become 3D-printable reality.\n\nI'm your AI Design Agent, here to help bring extraordinary vehicle concepts to life. Whether you're looking to design a sleek sport coupe, a commanding luxury hauler, or something completely unprecedented, I'm here to guide the creative process.\n\nWhat kind of vehicle shall we create today?`;
    } else if (lastUserMessage.includes('thank')) {
      response = `You're very welcome! It's been a pleasure exploring vehicle design with you.\n\nRemember, every Objexis creation starts with imagination and ends with a tangible, 3D-printed masterpiece. Feel free to return anytime you want to develop new concepts, refine existing designs, or discuss any aspect of our design philosophy.\n\nKeep pushing the boundaries of what's possible! ðŸš—âœ¨`;
    } else if (lastUserMessage.includes('help') || lastUserMessage.includes('what can you')) {
      response = `I'm your Objexis AI Design Agentâ€”here's how I can assist you:\n\n**Design Services:**\nâ€¢ Create original vehicle concepts from scratch\nâ€¢ Develop detailed design specifications and descriptions\nâ€¢ Suggest vehicle names, backstories, and fictional specs\nâ€¢ Refine and iterate on existing concepts\n\n**Technical Guidance:**\nâ€¢ 3D printing optimization and best practices\nâ€¢ Part breakdown strategies for printability\nâ€¢ Assembly methods and tolerances\nâ€¢ Material recommendations\n\n**Design Elements:**\nâ€¢ Lighting integration concepts\nâ€¢ Wheel and tire design\nâ€¢ Interior/cockpit layouts\nâ€¢ Color schemes and finishes\nâ€¢ Surface language and proportions\n\n**Philosophy & Branding:**\nâ€¢ Explain Objexis design principles\nâ€¢ Discuss how to maintain brand cohesion\nâ€¢ Guide on creating original IP vehicles\nâ€¢ Advise on collectible quality standards\n\n**Just ask me about any aspect of vehicle design, and let's create something extraordinary together!**\n\nWhat would you like to explore?`;
    } else {
      response = `That's an interesting direction! Let me help you explore this concept further.\n\nTo create the best Objexis design for your vision, I'd like to understand more:\n\nâ€¢ What type of vehicle are you envisioning? (Sport, luxury, concept, utility, etc.)\nâ€¢ What mood or character should it have? (Aggressive, elegant, playful, mysterious?)\nâ€¢ Are there specific features you'd like to include? (Unique lighting, special wheels, particular proportions?)\nâ€¢ What's the intended story or purpose of this vehicle?\n\nShare your thoughts, and I'll craft a detailed concept that embodies the Objexis philosophy of originality, craftsmanship, and futuristic design!\n\nOr, if you'd prefer, I can suggest some exciting directions based on current trends in the Objexis collection.`;
    }

    return NextResponse.json({ message: response });

  } catch (error) {
    console.error('Chat API Error:', error);
    return NextResponse.json(
      { error: 'Internal server error', message: 'I apologize, but something went wrong. Please try again.' },
      { status: 500 }
    );
  }
}
